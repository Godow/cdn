(()=>{var __webpack_exports__={};setTimeout((()=>{"use strict";function readSettings(){settings.getElementTimes=500,settings.fontStyle={error:"font-family: 微软雅黑,黑体,Droid Serif,Arial,sans-serif; color: #f00;",warn:"font-family: 微软雅黑,黑体,Droid Serif,Arial,sans-serif; color: #ff0;",ok:"font-family: 微软雅黑,黑体,Droid Serif,Arial,sans-serif; color: #0f0;",maxTip:"font-family: 微软雅黑,黑体,Droid Serif,Arial,sans-serif; font-size: 30px; background-color: #222; text-shadow: 0px 0px 12px #fff; color: #fff;"},window===top?(settings.NoAD解析={JY解析:"https://jx.playerjy.com/?url=",TV解析:"https://jx.m3u8.tv/jiexi/?url=",天翼解析:"https://jsap.attakids.com/?url=",爱解析:"https://jiexi.t7g.cn/?url=",OK解析:"https://api.okjx.cc:3389/jx.php?url=",全民解析:"https://jx.quanmingjiexi.com/?url=",云解析:"https://jx.aidouer.net/?url=",虾米解析:"https://jx.xmflv.com/?url=",夜幕解析:"https://www.yemu.xyz/?url="},settings.AD解析={诺讯解析:"https://www.nxflv.com/?url=",z1解析:"https://z1.m1907.cn?jx=",乐多解析:"https://api.leduotv.com/wp-api/ifr.php?isDp=1&vid=",Mao解析:"https://www.mtosz.com/m3u8.php?url="},start()):settings.isParse&&(top.postMessage(key.ENCRYPT("宝塔镇河妖\0给予\x000\0"+location.href,settings.k1,settings.k2),"*"),Object.defineProperty(console,"clear",{value:()=>console.log("%c禁止清除控制台",settings.fontStyle.error),writable:!1}),settings.parseDB=new Promise((e=>{window.addEventListener("message",(t=>{if(t.source!==window)try{var o=key.DECRYPT(t.data,settings.k1,settings.k2).split("\0");"天王盖地虎"===o[0]&&"给予"===o[1]&&"用户数据库"===o[2]&&e(JSON.parse(o[3]))}catch(t){}}))})),top.postMessage(key.ENCRYPT("宝塔镇河妖\0请求\0用户数据库",settings.k1,settings.k2),"*"),start())}const key=(()=>{const e=Symbol(),t=Symbol();return class o{constructor(t=null){let o,n=7,s=7;if(t)if("string"==typeof t)for(let e=0;e<t.length;e++)o=t[e].charCodeAt(),s+=parseInt(o.toString()[0]),n=31*n+(o+65505)%65536;else"number"==typeof t?n=s=7+parseInt(Math.abs(t)):console.error("Unsupported type '"+typeof t+"'. It only supports 'string' or 'number'.");this[e]=s.toString(8)[0]+(n%65536).toString()}encrypt(t){if(t){let n=t.length,s=parseInt(this[e][0])+3,i=[],l="";var o=n+parseInt(this[e].substring(1));let r=65536/o,a=o-1;for(;n>s;)n-=s,i.push(t.substr(n,s));i.push(t.substring(0,n));for(let e,t=0;t<s;t++)for(e=0;e<i.length;e++){const n=i[e][t];if(!n)break;l+=String.fromCharCode((n.charCodeAt()+parseInt(r*(a%2==0?a:o-a)))%65536),a=0===a?o-1:a-1}return l}return""}decrypt(t){if(t){let i=0,l=Math.ceil(t.length/(parseInt(this[e][0])+3)),r=t.length%(parseInt(this[e][0])+3),a=[],c="";for(var o,n=t.length+parseInt(this[e].substring(1)),s=65536/n;t.length-i>l;)a.push(t.substr(i,l)),i+=l,a.length===r&&l--;a.push(t.substring(i));for(let e,t=a[0].length-1;-1<t;t--)for(r=0,e=0;e<a.length;e++){const i=a[e][t];i&&(o=(n-((r+=a[e].length)-a[e].length+t+1)%n)%n,c+=String.fromCharCode((i.charCodeAt()-parseInt(s*(o%2==0?o:n-o))+65536)%65536))}return c}return""}static ENCRYPT(){if(arguments){const e=[],n=[];for(let t=0;t<arguments.length;t++)"key"===arguments[t].constructor.name?n.push(arguments[t]):"String"===arguments[t].constructor.name&&e.push(arguments[t]);if(e){if(n)for(let t,o=0;o<e.length;o++)for(t=0;t<n.length;t++)e[o]=o%2==0?n[t].encrypt(e[o]):n[t].decrypt(e[o]);else this[t]||(this[t]=new o(parseInt(1024*Math.random())+3)),e[i]=this[t].decrypt(this[t].decrypt(e[i]));return 1===e.length?e[0]:e}}}static DECRYPT(){if(arguments){const e=[],n=[];for(let t=0;t<arguments.length;t++)"key"===arguments[t].constructor.name?n.push(arguments[t]):"String"===arguments[t].constructor.name&&e.push(arguments[t]);if(e){if(n)for(let t,o=0;o<e.length;o++)for(t=n.length-1;-1<t;t--)e[o]=o%2==0?n[t].decrypt(e[o]):n[t].encrypt(e[o]);else this[t]||(this[t]=new o(parseInt(1024*Math.random())+3)),e[i]=this[t].encrypt(this[t].encrypt(e[i]));return 1===e.length?e[0]:e}}}}})(),settings=((navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))&&Object.defineProperty(navigator,"userAgent",{value:"Mozilla/5.0 (Linux; Android 8.0; MI 6 Build/OPR1.170623.027; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/48.0.2564.116 Mobile Safari/537.36 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)",writable:!1}),{}),root=document.querySelector(":root");function start(){function detectMobile(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Symbian/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/hpwOS/i)}function doElement(e,t,o=0){var n=document.querySelector(e);n&&1===n.nodeType?(t(n),console.log("%c已为 "+e+" 进行了操作",settings.fontStyle.ok)):"complete"!==document.readyState||0<o?(console.log("正在查找 "+e),setTimeout((()=>doElement(e,t,"complete"!==document.readyState?o:o-10-settings.getElementTimes)),settings.getElementTimes)):console.log("%c未找到 "+e,settings.fontStyle.error)}function doElements(e,t,o=0,n=0){var s=document.querySelectorAll(e);s[n]&&1===s[n].nodeType?(t(s),console.log("%c已为 All["+n+"] "+e+" 进行了操作",settings.fontStyle.ok)):"complete"!==document.readyState||0<o?(console.log("正在查找 All["+n+"] "+e),setTimeout((()=>doElements(e,t,"complete"!==document.readyState?o:o-10-settings.getElementTimes,n)),settings.getElementTimes)):console.log("%c未找到 All["+n+"] "+e,settings.fontStyle.error)}function forElements(e,t,o=0,n=null){const s=setInterval((()=>{var i;"complete"!==document.readyState||0<o?((i=document.querySelectorAll(e))&&0<i.length&&1===i[0].nodeType&&(t(i,s),console.log("%cforElements已为 "+e+" 进行了操作",settings.fontStyle.ok)),"complete"===document.readyState&&(o=o-10-settings.getElementTimes)):(n&&n(),console.log("已清除 forElements Interval计时器"),clearInterval(s))}),settings.getElementTimes)}function removeElements(ElementsStrings){console.log("正在检测并移除 "+ElementsStrings);const removeElementsInterval=setInterval((()=>{if(0<ElementsStrings.length){for(const i in ElementsStrings)try{const Elements=eval(ElementsStrings[i]);if(Elements&&1===Elements.nodeType)console.log("%cremoveElemets 执行了移除 "+ElementsStrings[i],settings.fontStyle.ok),Elements.parentNode.removeChild(Elements),ElementsStrings.splice(i,1);else if(Elements[0]&&1===Elements[0].nodeType){console.log("%cremoveElemets 执行了移除 "+ElementsStrings[i],settings.fontStyle.ok);for(const e of Elements)e.parentNode.removeChild(e);ElementsStrings.splice(i,1)}}catch(e){}"complete"===document.readyState&&(console.log("%cremoveElemets 移除失败 "+ElementsStrings,settings.fontStyle.error),clearInterval(removeElementsInterval))}else clearInterval(removeElementsInterval),console.log("Elements 移除完毕")}),200)}function readyPlayerBox(e,t,o,n,s,i=null){e&&console.log("%c"+e,settings.fontStyle.maxTip),onLocationChange((()=>location.reload())),t&&displayNone(t),doElement(n,(async e=>{setInterval((()=>{for(const e of document.querySelectorAll("a"))e.onclick=()=>{e.host===location.host&&(location.href=e.href)}}),1500);let t=document.createElement("iframe");t.allowFullscreen=!0,t.frameBorder="0",t.width="100%",t.height="100%";const l="background-color: #000 !important; border: 0 !important; display: block !important; visibility: visible !important; opacity: 1 !important; min-width: 100% !important; width: 100% !important; max-width: 100% !important; min-height: 100% !important; height: 100% !important; max-height: 100% !important; position: absolute !important; left: 0px !important; top: 0px !important; z-index: 2147483647 !important; overflow: hidden;";t.style=l;let r,a,c=!1,d=Object.values(settings.NoAD解析).filter((e=>-1===o.indexOf(e)));settings.src=(()=>{const e=Symbol();return class{static async set(o,n=location.href){var s;return!!o&&(this[e]=o,"function"==typeof i?(s=await i(n),t.src=o?o+(s||n):""):t.src=o?o+n:"",r=(new Date).getTime(),!0)}static get(){return this[e]}}})(),settings.randomSeleceParse=async()=>{if(0<o.length){var e=Math.floor(Math.random()*o.length);settings.src.set(o[e]),o.splice(e,1)}else{if(c)return showTip("该视频可能无法解析\n请尝试使用z1解析\n如有疑问请反馈"),!1;showTip("解析失败，正在尝试其他解析源"),o=d,d=null,c=!0,e=Math.floor(Math.random()*o.length),settings.src.set(o[e]),o.splice(e,1)}},settings.src.set(localStorage.getItem("historyParse")),settings.src.get()?o.splice(o.indexOf(settings.src.get()),1):await settings.randomSeleceParse(),e.style.zIndex="1",t.onload=()=>{(new Date).getTime()-r<500&&xmlHttpRequest({url:t.src,error:()=>{showTip("该解析已失效，已切换推荐解析源"),settings.randomSeleceParse()}})},e.appendChild(t),console.log(t),console.log("%cplayerBox已建立解析连接",settings.fontStyle.maxTip),settings.DIY_iframeFunction=()=>{if(settings.parseDB.DIY解析栏)if(a&&"HTMLDivElement"===a.constructor.name)"hidden"===a.style.visibility&&(a.style.display="flex",a.style.visibility="");else{(a=document.createElement("div")).style="display: flex; background-color: #0000; font-family: 微软雅黑,黑体,Droid Serif,Arial,sans-serif; font-size: 15px; position: fixed; height: 30px; width: 86%; transform: translateX(-50%); left: 50%; max-width: 600px; border-radius: 15px; box-shadow: 0 0 6px 2px #444; bottom: 5px;",a.innerHTML="<select style='border: 0; background-color: #ddd; text-align: center; min-width: 80px; width: 80px; height: 100%; border-bottom-left-radius: 15px; border-top-left-radius: 15px;'></select><input type='text' style='border: 0; background-color: #eee; padding-left: 10px; flex-grow: 1; width: 123px; height: 100%;' placeholder='(当前网址请留空)'><button style='background-color: #4af; border-color: #4af; text-align: center; color: #fff; min-width: 54px; width: 54px; height: 100%; border-bottom-right-radius: 15px; border-top-right-radius: 15px;'>解析</button>";const e=a.querySelector("input[type=text]");async function n(){var o=document.querySelector("iframe[id*=player]");o&&(t=o),settings.src.set(s.options[s.selectedIndex].value,e.value||location.href),localStorage.setItem("historyParse",settings.src.get())}const s=a.querySelector("select");for(const i in settings.NoAD解析)s.innerHTML+="<option value='"+settings.NoAD解析[i]+"' style='text-align: center'>"+i+"</option>";for(const l in settings.AD解析)s.innerHTML+="<option value='"+settings.AD解析[l]+"' style='text-align: center; color: #fa0; '>⚠"+l+"</option>";a.querySelector("option[value='"+settings.src.get()+"']").selected=!0,settings.randomSeleceParse=async()=>{if(0<o.length){var e=Math.floor(Math.random()*o.length);settings.src.set(o[e]),o.splice(e,1),a.querySelector("option[value='"+settings.src.get()+"']").selected=!0}else{if(c)return showTip("该视频可能无法解析\n请尝试使用z1解析\n如有疑问请反馈"),!1;showTip("解析失败，正在尝试其他解析源"),o=d,d=null,c=!0,e=Math.floor(Math.random()*o.length),settings.src.set(o[e]),o.splice(e,1)}settings.address={0:0,"-1":1}},a.querySelector("button").onclick=()=>n(),s.onchange=()=>{n()},e.onkeydown=e=>{"Enter"===e.key&&n()},doElement("toolsbar",(e=>{e.appendChild(a)}))}else a&&"HTMLDivElement"===a.constructor.name&&""===a.style.visibility&&(a.style.display="none",a.style.visibility="hidden")},settings.DIY_iframeFunction();{var p=0;p/=settings.getElementTimes;const o=setInterval((()=>{const s=document.querySelector(n);var i;s!==e&&null!==s||null!==s&&null===s.querySelector("iframe[src='"+t.src+"']")?(console.log("playerBox重新建立连接"),i=t.src,t.src="",(t=t.cloneNode(!0)).src=i,s.style.zIndex="1",s.appendChild(t),clearInterval(o)):"complete"===document.readyState&&p--<=0&&clearInterval(o)}),settings.getElementTimes)}s&&s(e,t),setInterval((()=>{for(const e of document.getElementsByTagName("video"))e.src&&(e.removeAttribute("src"),e.load(),e.muted=!0);for(const e of document.querySelectorAll("iframe,fake-iframe-video"))e.src===t.src&&e.constructor.name===t.constructor.name||e.parentNode.removeChild(e);t.style!==l&&(t.style=l)}),settings.getElementTimes),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"].forEach((e=>{window.addEventListener(e,(()=>{const e=document.querySelector("toolsbar");document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?e.style.display="none":e.style.display="block"}),!0)}))}))}function hrefToLocation(e){let t,o={href:e},n=0,s=0;for(let i,l=0;l<e.length;l++)if("/"===e[l])1==++n?o.protocol=e.substring(s,l):3===n&&(o.host=e.substring(s+1,l),i?o.port=e.substring(i+1,l):(o.hostname=o.host,o.port="")),n<=3&&(s=l);else if(":"===e[l]&&2===n)o.hostname=e.substring(s+1,l),i=l;else if("?"!==e[l]||t){if("#"===e[l]&&!o.hash){o.hash=e.substr(l),void 0===o.pathname?o.pathname=e.substring(n,l):t&&(o.search=e.substring(t,l));break}}else o.pathname=e.substring(s,l),t=l;return void 0===o.pathname&&(o.pathname=3===n?e.substr(s):"",o.search=o.hash=""),void 0===o.search&&(o.search=t?e.substr(t):""),void 0===o.hash&&(o.hash=""),o}function setParseVideo(){forElements("video",(async(e,t)=>{for(const o of e)if(o.poster&&o.removeAttribute("poster"),o.src){top.postMessage(key.ENCRYPT("宝塔镇河妖\0函数\0settings.address = null",settings.k1,settings.k2),"*"),top.postMessage(key.ENCRYPT("宝塔镇河妖\0函数\0localStorage.setItem('historyParse', settings.src.get())",settings.k1,settings.k2),"*"),removeElements(['document.getElementById("ADplayer")','document.getElementById("ADtip")']),await settings.parseDB,"\0"===settings.parseDB.弹幕开关&&(console.log("正在移除弹幕功能"),removeElements(['document.querySelector("div[class$=player-video-wrap]").getElementsByTagName("div")','document.querySelector("div[class$=player-danmu]")','document.querySelector("div[class$=player-danmaku]")','document.querySelector("div[class*=player-comment-box]")','document.querySelector("div[class*=player-controller-mask]")','document.querySelector("[class*=player-list-icon]")','document.querySelector("div[class$=player-menu]")']));const e=()=>{document.exitFullScreen?document.exitFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.body.msExitFullscreen&&document.body.msExitFullscreen()};if(!detectMobile()){const t=document.querySelector("[class*=fullscreen],[class$=player-full] button[class$=full-icon]");t&&1===t.nodeType&&(t.parentNode.parentNode.onkeyup=e=>e.stopPropagation()),o.onkeyup=e=>e.stopPropagation(),top.postMessage(key.ENCRYPT("宝塔镇河妖\0按下Enter获取焦点",settings.k1,settings.k2),"*"),onkeyup=o.onkeyup=n=>{if("Enter"===n.key){if(o.paused&&o.play(),t&&1===t.nodeType)return t.click(),!1;document.fullscreenElement||document.mozFullScreenElement||document.msFullScreenElement||document.webkitFullscreenElement?e():document.body.RequestFullScreen?document.body.RequestFullScreen():document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullScreen?document.body.webkitRequestFullScreen():document.body.msRequestFullscreen&&document.body.msRequestFullscreen()}},focus(),sessionStorage.getItem("tip全屏")||(showTip("按下Enter回车键，进入全屏 并 自动播放"),sessionStorage.setItem("tip全屏","")),o.addEventListener("pause",(()=>{-5<o.currentTime-o.duration&&(console.log("视频播放结束了"),e())}),!1)}clearInterval(t)}}),1e3,(function(){top.postMessage(key.ENCRYPT("宝塔镇河妖\0给予\0-1\0"+location.href,settings.k1,settings.k2),"*")}))}function displayNone(e){const t=document.createElement("style");t.innerHTML="\n";for(let o=0;o<e.length;o++)t.innerHTML+=e[o]+"{display: none !important; height: 0 !important; width: 0 !important; visibility: hidden !important; max-height: 0 !important; max-width: 0 !important; opacity: 0 !important;}\n";document.head.insertBefore(t,document.head.firstChild)}function onLocationChange(e){let t=top.location.pathname;const o=setInterval((()=>{console.log("正在监听url");const n=top.location.pathname;-1===n.indexOf(t)?(e(),clearInterval(o)):t=n}),settings.getElementTimes)}function onFirstLoad(e){"complete"===document.readyState?e&&e():setTimeout((()=>{onFirstLoad(e)}),settings.getElementTimes)}function searchToJSON(e){return e?JSON.parse('{"'+decodeURIComponent(e.substring(1).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"'))+'"}'):null}var e;console.log("脚本运行在 "+location.href),window===top?(top.addEventListener("message",(event=>{if(event.source!==window)try{const sql=key.DECRYPT(event.data,settings.k1,settings.k2).split("\0");"宝塔镇河妖"===sql[0]&&("函数"===sql[1]?(console.log("top执行了函数: "+sql[2]),eval(sql[2])):"请求"===sql[1]?"用户数据库"===sql[2]&&event.source.postMessage(key.ENCRYPT("天王盖地虎\0给予\0用户数据库\0"+JSON.stringify(settings.parseDB),settings.k1,settings.k2),"*"):"给予"===sql[1]?"0"===sql[2]?(null!==settings.address&&(settings.address=sql[3]),console.log("%c"+settings.address,settings.fontStyle.warn)):"-1"===sql[2]&&settings.address===sql[3]&&(showTip("解析失败，正在更换解析源"),settings.randomSeleceParse()):"按下Enter获取焦点"===sql[1]&&(onkeydown=e=>{"Enter"===e.key&&event.source.focus()}))}catch(e){console.log("%c"+e,settings.fontStyle.error)}})),detectMobile()?-1!==location.host.indexOf("v.qq.com")?readyPlayerBox("已进入腾讯视频",[".mod_vip_popup","[class^=app_],[class^=app-],[class*=_app_],[class*=-app-],[class$=_app],[class$=-app]","div[dt-eid=open_app_bottom]","div.video_function.video_function_new","a[open-app]","section.mod_source","section.mod_box.mod_sideslip_h.mod_multi_figures_h,section.mod_sideslip_privileges,section.mod_game_rec"],[settings.NoAD解析["OK解析"]],"div.mod_play:not([style*='display: none;']) section.mod_player",null,(e=>{var t=hrefToLocation(e);return(e=searchToJSON(t.search))?e.cid?e.id?t.protocol+"//v.qq.com/detail/"+e.cid[0]+"/"+e.cid+".html":e.vid?t.protocol+"//v.qq.com/x/cover/"+e.cid+"/"+e.vid+".html":t.protocol+"//v.qq.com/x/cover/"+e.cid+".html":e.vid?t.protocol+"//v.qq.com/x/page/"+e.vid+".html":e.lid?t.protocol+"//v.qq.com/detail/"+e.lid[0]+"/"+e.lid+".html":null:null})):-1!==location.host.indexOf("iqiyi.com")?readyPlayerBox("已进入爱奇艺",["div.m-iqyGuide-layer","a[down-app-android-url]","[name=m-extendBar]","[class*=ChannelHomeBanner]","section.m-hotWords-bottom"],[settings.NoAD解析["OK解析"]],"div.m-video-player-wrap",null):-1!==location.host.indexOf("youku.com")?readyPlayerBox("已进入优酷视频",["#iframaWrapper",".ad-banner-wrapper",".h5-detail-guide,.h5-detail-vip-guide,[class$=ad],.Corner-container","[data-spm='downloadApp'],.downloadApp",".callEnd_box"],[],"#player",null):-1!==location.host.indexOf("bilibili.com")?readyPlayerBox("已进入哔哩哔哩",["div.fe-ui-open-app-btn,div.recom-wrapper,open-app-btn","[class*=openapp]"],[settings.NoAD解析["夜幕解析"],settings.NoAD解析["天翼解析"]],"div#app.main-container div.player-wrapper",null,(e=>e.replace("m.bilibili.com","www.bilibili.com"))):-1!==location.host.indexOf("miguvideo.com")?readyPlayerBox("已进入咪咕视频",["[class^=app_],[class^=app-],[class*=_app_],[class*=-app-],[class$=_app],[class$=-app]",".openClient","div.group-item.programgroup .data-rate-01,div.group-item.programgroup .max-rate-01,div.group-item.programgroup .p-common"],[],"section#mod-player",null,(e=>e.replace("m.miguvideo.com","www.miguvideo.com").replace("msite","website"))):-1!==location.host.indexOf("le.com")?(e=document.createElement("style"),e.innerHTML="div.layout{visibility: visible !important; display:block !important;}div.layout>*:not(style,script,#j-vote,#j-follow){visibility: visible !important; display: block !important;}",document.head.insertBefore(e,document.head.firstChild),doElement("a.j-close-gdt",(e=>(e.click(),!1))),readyPlayerBox("已进入乐视TV",["a.leapp_btn","div.full_gdt_bits[id^=full][data-url]","[class*=Daoliu],[class*=daoliu],[class*=game]","div.m-start","[class*=icon_user]"],[settings.NoAD解析["云解析"]],"div.column.play",null)):-1!==location.host.indexOf("m.tv.sohu.com")?readyPlayerBox("已进入搜狐视频",["div[class^=banner]","div.js-oper-pos","div[id^=ad],div[id^=ad] *","[id*=login],[class*=login]","[class$=-app]","div.app-vbox.ph-vbox,div.app-vbox.app-guess-vbox","div.twinfo_iconwrap","div[class$=banner],div[id$=banner]"],[settings.NoAD解析["夜幕解析"]],"#player,#sohuplayer,.player-view",null,(async e=>new Promise((t=>{xmlHttpRequest({url:e,success:e=>{e=e.responseText.match(/var videoData = \{[^\x00]+tvUrl:"(http.+)",[\r\n]/)[1],t(e)},error:()=>t(e)})})))):-1!==location.host.indexOf("mgtv.com")?readyPlayerBox("已进入芒果TV",["div.adFixedContain,div.ad-banner,div.m-list-graphicxcy.fstp-mark","div[class^=mg-app],div#comment-id.video-comment div.ft,div.bd.clearfix,div.v-follower-info","div.ht.mgui-btn.mgui-btn-nowelt","div.personal","div[data-v-41c9a64e]"],[settings.NoAD解析["爱解析"],settings.NoAD解析["OK解析"],settings.NoAD解析["云解析"],settings.NoAD解析["虾米解析"],settings.NoAD解析["夜幕解析"]],"div.video-poster,div.video-area",null):-1!==location.host.indexOf("ixigua.com")?readyPlayerBox("已进入西瓜视频",["div.xigua-download","div.xigua-guide-button","div.c-long-video-recommend.c-long-video-recommend-unfold"],[settings.NoAD解析["夜幕解析"]],"div.xigua-detailvideo-video",null):-1!==location.host.indexOf("pptv.com")?readyPlayerBox("已进入PPTV",["[data-darkreader-inline-bgimage][data-darkreader-inline-bgcolor]","div[class^=pp-m-diversion]","section#ppmob-detail-picswiper","section.layout.layout_ads","div.foot_app","div[modulename=导流位]","a[class*=user]","div.mod_video_info div.video_func"],[settings.NoAD解析["OK解析"]],"section.pp-details-video",null,(e=>e.replace("m.pptv.com","v.pptv.com"))):-1!==location.host.indexOf("vip.1905.com")?((e=>{e.innerHTML="section#movie_info{padding-top: 20px !important;}",document.head.appendChild(e)})(document.createElement("style")),readyPlayerBox("已进入1905电影网",["a.new_downLoad[target=_blank]","iframe[srcdoc^='<img src=']","section.movieList_new.club_new",".wakeAppBtn","[class*=login]","section.openMembershipBtn",".ad",".open-app,.openApp,ul.iconList li:not(.introduceWrap),div#zhichiBtnBox","section#hot_movie,section#exclusive_movie,section#hot_telve"],[settings.NoAD解析["云解析"]],"div.area.areaShow.clearfix_smile",null)):-1!==location.host.indexOf("www.wasu.cn")&&readyPlayerBox("已进入华数TV",["div.ws_poster","div.appdown,div.player_menu_con","div#play_and_info_fix_adv"],[settings.NoAD解析["OK解析"]],"div#player,div#pop",null):-1!==location.host.indexOf("v.qq.com")?readyPlayerBox("已进入腾讯视频",["#mask_layer",".mod_vip_popup","#mask_layer","div.panel-overlay.panel-tip-pay","div.thumbplayer-barrage"],[settings.NoAD解析["OK解析"],settings.NoAD解析["TV解析"],settings.NoAD解析["天翼解析"],settings.NoAD解析["诺讯解析"]],"div#player",null):-1!==location.host.indexOf("iqiyi.com")?doElement("div.side-cont.tvg",(()=>readyPlayerBox("已进入爱奇艺",["#playerPopup","div[class^=qy-header-login-pop]"],[settings.NoAD解析["OK解析"]],"iqpdiv.iqp-player[data-player-hook$=er]",null))):-1!==location.host.indexOf("youku.com")?readyPlayerBox("已进入优酷视频",["#iframaWrapper"],[],"div#player",null):-1!==location.host.indexOf("bilibili.com")?(doElements("div[role=tooltip]:not([class*=popover-])",(e=>displayNone(["#"+e[6].id])),1e3,6),doElement("svg[aria-hidden=true]",(()=>readyPlayerBox("已进入哔哩哔哩",null,[settings.NoAD解析["夜幕解析"],settings.NoAD解析["天翼解析"]],"div.bpx-player-video-area,div.mask-container",null)))):-1!==location.host.indexOf("miguvideo.com")?readyPlayerBox("已进入咪咕视频",null,[],"section#mod-player",null):-1!==location.host.indexOf("le.com")?readyPlayerBox("已进入乐视TV",null,[settings.NoAD解析["云解析"]],"#le_playbox",null):location.host.match(/(tv|film).sohu.com/)?readyPlayerBox("已进入搜狐视频",null,[settings.NoAD解析["夜幕解析"]],"#player,#sohuplayer,.player-view",null):-1!==location.host.indexOf("mgtv.com")?readyPlayerBox("已进入芒果TV",null,[settings.NoAD解析["爱解析"],settings.NoAD解析["OK解析"],settings.NoAD解析["云解析"],settings.NoAD解析["虾米解析"],settings.NoAD解析["夜幕解析"]],"#mgtv-player-wrap",null):-1!==location.host.indexOf("ixigua.com")?readyPlayerBox("已进入西瓜视频",null,[settings.NoAD解析["夜幕解析"]],"div.teleplayPage__playerSection",null):-1!==location.host.indexOf("pptv.com")?readyPlayerBox("已进入PPTV",null,[settings.NoAD解析["OK解析"]],"div.w-video",null):-1!==location.host.indexOf("vip.1905.com")?readyPlayerBox("已进入1905电影网",null,[settings.NoAD解析["云解析"]],"div#playBox",null):-1!==location.host.indexOf("www.wasu.cn")&&readyPlayerBox("已进入华数TV",null,[settings.NoAD解析["OK解析"]],"div#pcplayer",null)):-1!==location.host.indexOf("jiexi.t7g.cn")?(displayNone(["body>div#stats"]),setParseVideo()):-1!==location.host.indexOf("api.okjx.cc:3389")?((e=>{e.innerHTML=".slide,.panel,.slide *,.panel *{width: 0 !important; max-width: 0 !important; opacity: 0 !important;}",document.head.appendChild(e)})(document.createElement("style")),setParseVideo()):-1!==location.host.indexOf("api.jiubojx.com")?(displayNone("div.adv_wrap_hh"),setParseVideo()):-1!==location.host.indexOf("yemu.xyz")?-1===location.pathname.indexOf("jx.php")?-1!==location.host.indexOf("www.yemu.xyz")?(e=>{e.innerHTML=".slide,.panel,.slide *,.panel *{width: 0 !important; max-width: 0 !important; opacity: 0 !important;}",document.head.appendChild(e)})(document.createElement("style")):-1!==location.host.indexOf("jx.yemu.xyz")&&(displayNone(["div.advisory"]),setParseVideo()):doElement("div[style*='width:100%;height:100%;'][style*='.jpg']",(e=>{e.style="width:100%;height:100%;position:relative;z-index:2147483647987;"}),5e3):-1!==location.host.indexOf("www.mtosz.com")?(displayNone([".video-panel-blur-image"]),doElement(".video-panel-blur-image",(e=>{e.style="display: none; height: 0; width: 0;"})),setParseVideo()):-1===location.host.indexOf("v.superchen.top:3389")&&-1===location.host.indexOf("jx.parwix.com:4433")&&!location.pathname||setParseVideo()}function showTip(e,t=""){if(window===top){let o=document.querySelector(":root>tip");o&&1===o.nodeType&&root.removeChild(o),(o=document.createElement("tip")).style=t+"pointer-events: none; opacity: 0; background-color: #222a; color: #fff; font-family: 微软雅黑,黑体,Droid Serif,Arial,sans-serif; font-size: 20px; text-align: center; padding: 6px; border-radius: 16px; position: fixed; transform: translate(-50%, -50%); left: 50%; bottom: 15%; z-index: 2147483647;",o.innerHTML="<style>@keyframes showTip {0%{opacity: 0;} 33.34%{opacity: 1;} 66.67%{opacity: 1;} 100%{opacity: 0;}}</style>\n"+e,t=e.replace(/\s/,"").length/2,o.style.animation="showTip "+(2<t?t:2)+"s cubic-bezier(0,"+(0<t-1?(t-1)/t:0)+","+(1-(0<t-1?(t-1)/t:0))+",1) 1 normal",root.appendChild(o),setTimeout((()=>{try{root.removeChild(o)}catch(e){}}),1e3*t)}else top.postMessage(key.ENCRYPT("宝塔镇河妖\0函数\0showTip('"+e+"')",settings.k1,settings.k2),"*")}function xmlHttpRequest(e){const t=new XMLHttpRequest;if(e.success&&(t.onload=o=>{e.success(t,o)}),e.error&&(t.onerror=o=>{e.error(t,o)}),e.loadend&&(t.onloadend=o=>{e.loadend(t,o)}),e.timeout&&(t.ontimeout=o=>{e.timeout(t,o)}),t.open(e.method||"GET",e.url||location.href,e.async||!0,e.username||null,e.password||null),e.headers)for(const o in e.headers)t.setRequestHeader(o,e[o]);if(e.dataType&&(t.responseType=e.dataType),e.data){let o="";for(const t in e.data)o+=t+"="+e.data[t]+"&";o=o.substr(0,o.length-1),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(o)}else t.send()}(()=>{if((location.search.match(/[?&]url=https?:\/\/.+\..+\..+\/.+/i)||location.search.match(/[?&]v=https?:\/\/.+\..+\..+\/.+/i)||location.href.match(/https?:\/\/api\.leduotv\.com\/.+?vid=/i))&&(settings.isParse=!0),settings.isParse||-1!==location.host.indexOf("v.qq.com")||-1!==location.host.indexOf("iqiyi.com")||-1!==location.host.indexOf("youku.com")||-1!==location.host.indexOf("bilibili.com")||-1!==location.host.indexOf("miguvideo.com")||-1!==location.host.indexOf("le.com")||-1!==location.host.indexOf("tv.sohu.com")||-1!==location.host.indexOf("film.sohu.com")||-1!==location.host.indexOf("mgtv.com")||-1!==location.host.indexOf("ixigua.com")||-1!==location.host.indexOf("pptv.com")||-1!==location.host.indexOf("vip.1905.com")||-1!==location.host.indexOf("www.wasu.com"))if(settings.k1=new key("Tenfond"),settings.k2=new key(" 腾 风 "),window===top){settings.parseDB={解析开关:"",弹幕开关:"",DIY解析栏:""};for(const t in settings.parseDB){var e=localStorage.getItem("解析数据库."+t);null!==e&&(settings.parseDB[t]=e)}try{var t=GM_getValue("弹幕开关");null!==t&&(settings.parseDB.弹幕开关=t)}catch(e){}settings.parseDB.解析开关&&(sessionStorage.getItem("tip设置")||(showTip("右下角可以编辑 设置"),sessionStorage.setItem("tip设置","")),readSettings()),settings.parseDBFuntions={解析开关:()=>{settings.parseDB.解析开关?(readSettings(),settings.parseDB.解析开关=""):location.reload()},弹幕开关:()=>{try{GM_setValue("弹幕开关",settings.parseDB.弹幕开关)}catch(e){}showTip("刷新页面即可生效")},DIY解析栏:()=>{"function"==typeof settings.DIY_iframeFunction?settings.DIY_iframeFunction():showTip("设置已生效")}};const o=document.createElement("toolsbar"),n=(o.style="display: block !important; visibility: visible !important; position: fixed; z-index: 2147483647 !important; left:0; bottom: 0; width: 100%; height: 0; font-family: 微软雅黑,黑体,Droid Serif,Arial,sans-serif; font-size: 15px; color: #000;",o.innerHTML="<style>\n    text{font-family: 微软雅黑,黑体,Droid Serif,Arial,sans-serif; font-size: 15px; color: #000; position: absolute; transform: translateY(-50%); top: 50%;}\n    label.parse-switch{position: absolute; transform: translateY(-50%); top: 50%; display: inline-block; width: 44px; height: 24px; box-shadow: 0 0 0 1px #ccc; border-radius: 30px; overflow: hidden;}\n    label.parse-switch>input[type=checkbox]{display: none;}\n    label.parse-switch>input[type=checkbox]+bg{position: absolute; transition: background-color 0.3s; background-color: #ccc; width: 100%; height: 100%;}\n    label.parse-switch>input[type=checkbox]:checked+bg{background-color: #4af}\n    label.parse-switch>input[type=checkbox]+bg+span{position: absolute; transition: left 0.3s; left: 0; width: 24px; height: 24px; border-radius: 50%; background-color: #fff;}\n    label.parse-switch>input[type=checkbox]:checked+bg+span{left: 20px}\n\n    settings>button+ul>li{position: relative; background-color: #0000; width: 100%; height: 30px;}\n</style>\n<settings style='box-shadow: 0 0 6px 2px #444; position: fixed; width: 50px; height: 30px; right: 7%; bottom: 45px; border-radius: 15px;'>    <button style='width: 100%; height: 100%; border-radius: 17px; background-color: #4af; border-color: #4af; text-align: center; color: #fff;'>\n        设置\n    </button>\n    <ul style='position:absolute; transition: all 0.5s; right: 7%; bottom: 100%; opacity: 0; width: 0; height: auto; background-color: #fffc; border: 1px solid #ccc; border-radius: 5px;'>\n    </ul>\n</settings>",o.querySelector("settings>button+ul")),s=Object.keys(settings.parseDB);for(let e=0;e<s.length;e++)n.innerHTML+="<li><text style='left: 10px'>"+s[e]+"</text><label class='parse-switch' style='right: 10px;'><input type='checkbox'><bg></bg><span></span></label></li>\n";const i=n.querySelectorAll("li>label.parse-switch");for(let e=0;e<i.length;e++){const t=i[e].querySelector("input[type=checkbox]");t.checked=Boolean(settings.parseDB[s[e]]),i[e].querySelector("bg").addEventListener("transitionend",(()=>{t.checked!==Boolean(settings.parseDB[s[e]])&&(t.checked?settings.parseDB[s[e]]="":settings.parseDB[s[e]]="",localStorage.setItem("解析数据库."+s[e],settings.parseDB[s[e]]),settings.parseDBFuntions[s[e]]())}),!1)}const l=o.querySelector("settings>button");l.onclick=()=>{"0"===n.style.opacity?(l.innerText="关闭",n.style.opacity="1",n.style.width="200px"):(l.innerText="设置",n.style.opacity="0",n.style.width="0")},root.append(o)}else readSettings()})()}))})();